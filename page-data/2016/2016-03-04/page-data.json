{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2016/2016-03-04/","result":{"data":{"markdownRemark":{"html":"<p>Data-Driven Documents also known as D3.js is a powerful JavaScript library for adding data visualization to a webpage. D3.js is a data-driven approach to DOM manipulation, this allows you to add svg elements to the DOM that is binded to data. Data visualization help us understand the data by creating graphical representation of data like graphs and charts. Data is everywhere and having these visualization helps us analyze them. A common data visualization is a bar graph, in this blog I will go over some of the basic of D3.js while creating a bar graph.</p>\n<h3>Getting Started</h3>\n<p>The first thing you need to create cool data visualization is the D3.js JavaScript library. You can download the zip file <a href=\"https://d3js.org/\" target=\"_blank\">here</a>. This library gives you all the built-in methods you need to create svg elements in the DOM using only JavaScript! After downloading this zip file, all you have to do is unzip and add it to your project. Then add this JavaScript into your html.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/relative/path/goes/here/d3.min.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3>Selecting an Element</h3>\n<p>The first thing to understand is how to select an element in the DOM. D3.js is similar to <a href=\"https://jquery.com/\" target=\"_blank\">jQuery</a> when selecting element using selectors. If there is a class on the DOM element you would use a prefix of <code class=\"language-text\">.</code> then the class attribute value to select it with a selector. Let's see a example of selecting a element with a class selector.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>example<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  \n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/relative/path/goes/here/d3.min.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    d3<span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".example\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"svg\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rect\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"width\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"height\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fill\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"steelblue\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Result:</p>\n<div class=\"example1\">\n</div>\n<p>The following code will insert elements into our div. With D3.js we are able to add svg into our html with a few lines of code. The following was added into our DOM.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>example<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>rect</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span><span class=\"token style-attr language-css\"><span class=\"token attr-name\"> <span class=\"token attr-name\">style</span></span><span class=\"token punctuation\">=\"</span><span class=\"token attr-value\"><span class=\"token property\">fill</span><span class=\"token punctuation\">:</span> steelblue<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>rect</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3>Let's Make a Bar Graph</h3>\n<p>Making a <code class=\"language-text\">rect</code> svg element is easy, but it doesn't tell us anything! For the <code class=\"language-text\">rect</code> to be meaningful it has to represent some data or number. Let's learn how to bind data to our <code class=\"language-text\">rect</code> elements. The easiest way to store our data is in an <code class=\"language-text\">Array</code> in JavaScript. Let's bind our <code class=\"language-text\">rect</code> elements to data from an array.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>example<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  \n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/relative/path/goes/here/d3.min.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    <span class=\"token keyword\">var</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">25</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        width <span class=\"token operator\">=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n        height <span class=\"token operator\">=</span> <span class=\"token number\">150</span><span class=\"token punctuation\">;</span>\n    d3<span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".example\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"svg\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"width\"</span><span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"height\"</span><span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">selectAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rect\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">enter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rect\"</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> i <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>width <span class=\"token operator\">/</span> data<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"y\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> height <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>d<span class=\"token operator\">*</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"width\"</span><span class=\"token punctuation\">,</span> width <span class=\"token operator\">/</span> data<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"height\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> d<span class=\"token operator\">*</span><span class=\"token number\">4</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fill\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"steelblue\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Result:</p>\n<div class=\"example2\">\n</div>\n<p>Now that looks like a bar graph! Lets break down the code:</p>\n<ol>\n<li>The first things we did was create a few variables that will be used in our svg elements. The data variable is a array of numbers that represents the data we want to bind to our svg element. </li>\n<li>Everytime you use D3.js you need to select a element in your DOM as the starting point. After selecting a element using D3.js <code class=\"language-text\">select</code> method we can <code class=\"language-text\">append</code> a <code class=\"language-text\">svg</code> element to that selected element. This will create a canvas for our data visualization for our svg elements. </li>\n<li>We then added our <code class=\"language-text\">width</code> and <code class=\"language-text\">height</code> attributes to our <code class=\"language-text\">svg</code> element. </li>\n<li>The <code class=\"language-text\">selectAll</code> method is a bit tricky to understand. This method is used to select all <code class=\"language-text\">rect</code> elements inside our <code class=\"language-text\">svg</code> element. Since we created a new <code class=\"language-text\">svg</code> element with nothing in it, the <code class=\"language-text\">selectAll</code> will know that there isn't any <code class=\"language-text\">rect</code> element yet. </li>\n<li>The next step is to bind our data to the <code class=\"language-text\">rect</code> elements that we used <code class=\"language-text\">selectAll</code> method to select.</li>\n<li>A very important method is <code class=\"language-text\">enter</code> which will append the <code class=\"language-text\">rect</code> into our canvas and will continue appending <code class=\"language-text\">rect</code> elements until every data in the array is binded to a <code class=\"language-text\">rect</code> element. </li>\n<li>Each <code class=\"language-text\">rect</code> element has the following attributes <code class=\"language-text\">x</code>, <code class=\"language-text\">y</code>, <code class=\"language-text\">width</code>, <code class=\"language-text\">height</code> and <code class=\"language-text\">style</code>. The <code class=\"language-text\">x</code> and <code class=\"language-text\">y</code> attributes are for the position of each <code class=\"language-text\">rect</code> element, we don't want all the <code class=\"language-text\">rect</code> to have the same position. Another thing is that we don't want the height of the <code class=\"language-text\">rect</code> to be the same. That's where <code class=\"language-text\">function (d,i)</code> comes in. This function is a built-in function parameter in D3.js. This function allows us to create different svg elements using data information! The following parameters for this function are <code class=\"language-text\">d</code> (data) and <code class=\"language-text\">i</code> (index).</li>\n</ol>\n<p>What makes data binding amazing is that you can dynamically change the data and the bar graph will also change with it. Let's make some changes to our data array.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">23</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">11</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Result:</p>\n<div class=\"example3\">\n</div>\n<p>That's cool!! No matter how many data or how little data you have your bar graph will change depending on our data.</p>\n<h3>Adding Text</h3>\n<p>This bar graph is missing some number representation! We can see that each <code class=\"language-text\">rect</code> has different height, but we don't know the value of the rect. That's where the <code class=\"language-text\">text</code> svg comes in, we can bind our data to the <code class=\"language-text\">text</code> svg like we did to our <code class=\"language-text\">rect</code>. We have to change some of our code, we need a reference variable to the svg element. We do this by saving the selected element into a variable.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>example<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  \n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/relative/path/goes/here/d3.min.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    <span class=\"token keyword\">var</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">23</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">11</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        width <span class=\"token operator\">=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n        height <span class=\"token operator\">=</span> <span class=\"token number\">150</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> svg <span class=\"token operator\">=</span> d3<span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".example\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"svg\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"width\"</span><span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"height\"</span><span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                \n    <span class=\"token comment\">// bind data to rect</span>\n    svg<span class=\"token punctuation\">.</span><span class=\"token function\">selectAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rect\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">enter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rect\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token function-variable function\">x</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> i <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>width <span class=\"token operator\">/</span> data<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">y</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> height <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>d<span class=\"token operator\">*</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        width<span class=\"token operator\">:</span> width <span class=\"token operator\">/</span> data<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">height</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> d<span class=\"token operator\">*</span><span class=\"token number\">4</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fill\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"steelblue\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// bind data to text</span>\n    svg<span class=\"token punctuation\">.</span><span class=\"token function\">selectAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">enter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> d<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"text-anchor\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"middle\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">x</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> i <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>width <span class=\"token operator\">/</span> data<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token punctuation\">(</span>width <span class=\"token operator\">/</span> data<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">y</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> height <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>d<span class=\"token operator\">*</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">14</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"font-family\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sans-serif\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"font-size\"</span><span class=\"token operator\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"fill\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#ffffff\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n  </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Result:</p>\n<div class=\"example4\">\n</div>\n<p>That looks better, this bar graph is starting to make more sense!</p>\n<h3>Add Scaling</h3>\n<p>A problem with our current bar graph is that if we have a data value that is higher than the height of our svg element it will not fit in our canvas. That's why we need some scaling factor that will scale our bar graph that has a dependency on the data value. D3.js has a few scaling methods that help us create scalable data visualization, the one we are going to use is the linear scale. We all remember learning about domain and range in math class, scale are function that map from an input domain to an output range. The domain in a function usually refers to the independent variable which is the x-axis on a graph. A function needs this independent variable say <code class=\"language-text\">x</code> to determine the dependent variable <code class=\"language-text\">y</code>. The domain is usually the min and max value of your data you will pass into the function and the range is the max and min of the x or y axis of the canvas. We are basically trying to normalize our data value with the given output range. Let's create a linear scale for our height of the <code class=\"language-text\">rect</code> element.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"example\"</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  \n  <span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"/relative/path/goes/here/d3.min.js\"</span> charset<span class=\"token operator\">=</span><span class=\"token string\">\"utf-8\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n    <span class=\"token keyword\">var</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">23</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">11</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        width <span class=\"token operator\">=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n        height <span class=\"token operator\">=</span> <span class=\"token number\">150</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> svg <span class=\"token operator\">=</span> d3<span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".example\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"svg\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"width\"</span><span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"height\"</span><span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">var</span> y <span class=\"token operator\">=</span> d3<span class=\"token punctuation\">.</span>scale<span class=\"token punctuation\">.</span><span class=\"token function\">linear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>d3<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>height<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                \n    <span class=\"token comment\">// bind data to rect</span>\n    svg<span class=\"token punctuation\">.</span><span class=\"token function\">selectAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rect\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">enter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rect\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token function-variable function\">x</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> i <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>width <span class=\"token operator\">/</span> data<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">y</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> height <span class=\"token operator\">-</span> <span class=\"token function\">y</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        width<span class=\"token operator\">:</span> width <span class=\"token operator\">/</span> data<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">height</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> <span class=\"token function\">y</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fill\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"steelblue\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// bind data to text</span>\n    svg<span class=\"token punctuation\">.</span><span class=\"token function\">selectAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">enter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> d<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"text-anchor\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"middle\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">x</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> i <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>width <span class=\"token operator\">/</span> data<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token punctuation\">(</span>width <span class=\"token operator\">/</span> data<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">y</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> height <span class=\"token operator\">-</span> <span class=\"token function\">y</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">14</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"font-family\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sans-serif\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"font-size\"</span><span class=\"token operator\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"fill\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#ffffff\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>       </code></pre></div>\n<p>Result:</p>\n<div class=\"example5\">\n</div>\n<p>We added a scale to our y-axis since we are dealing with height. This is a linear scale with the domain of [d3.max(data), 0], this means that it will scale with our data. The domain of our data is the maximum value in the data array and 0. That means the function is expecting us to pass a number between zero and the max number and will normalize it depending on our range. The range is the output, this output we want should depend on the height of our canvas. In our case the range is [height,0], remember that the y-axis in the svg coordinate system start from zero at the top and increases at we go down. We are basically doing this.</p>\n<div>\n  <svg height=\"115\" width=\"250\" style=\"display: block; margin:auto\">\n    <text x=\"125\" y=\"15\" font-style=\"italic\" text-anchor=\"middle\">Input domain</text>\n    <line x1=\"5\" y1=\"30\" x2=\"245\" y2=\"30\" stroke=\"gray\" stroke-width=\"1\"></line>\n    <circle cx=\"2\" cy=\"30\" r=\"3\" fill=\"#008\"></circle>\n    <text x=\"10\" y=\"48\" text-anchor=\"middle\">30</text>\n    <circle cx=\"125\" cy=\"30\" r=\"3\" fill=\"#008\"></circle>\n    <text x=\"125\" y=\"48\" text-anchor=\"middle\">15</text>\n    <circle cx=\"245\" cy=\"30\" r=\"3\" fill=\"#008\"></circle>\n    <text x=\"245\" y=\"48\" text-anchor=\"middle\">0</text>\n    <line x1=\"5\" y1=\"90\" x2=\"245\" y2=\"90\" stroke=\"gray\" stroke-width=\"1\"></line>\n    <circle cx=\"5\" cy=\"90\" r=\"3\" fill=\"#008\"></circle>\n    <text x=\"15\" y=\"84\" text-anchor=\"middle\">150</text>\n    <circle cx=\"125\" cy=\"90\" r=\"3\" fill=\"#008\"></circle>\n    <text x=\"125\" y=\"84\" text-anchor=\"middle\">75</text>\n    <circle cx=\"245\" cy=\"90\" r=\"3\" fill=\"#008\"></circle>\n    <text x=\"245\" y=\"84\" text-anchor=\"middle\">0</text>\n    <text x=\"125\" y=\"110\" font-style=\"italic\" text-anchor=\"middle\">Output range</text>\n  </svg>\n</div>\n<p>As you can see if we pass in a value of 30 to the function we will get the value 150. If we pass in a value of 15 to our scale function we will get a value of 75. It's easy to understand this linear scale. Now you can see how scaling works in D3.js and how we use it when scaling our data visualization. Let's now change our data and our height of the canvas to demonstrate the power of scaling!</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"example\"</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  \n  <span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"/relative/path/goes/here/d3.min.js\"</span> charset<span class=\"token operator\">=</span><span class=\"token string\">\"utf-8\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n    data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">38</span><span class=\"token punctuation\">,</span><span class=\"token number\">34</span><span class=\"token punctuation\">,</span><span class=\"token number\">56</span><span class=\"token punctuation\">,</span><span class=\"token number\">79</span><span class=\"token punctuation\">,</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">57</span><span class=\"token punctuation\">,</span><span class=\"token number\">88</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    width <span class=\"token operator\">=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n    height <span class=\"token operator\">=</span> <span class=\"token number\">250</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> svg <span class=\"token operator\">=</span> d3<span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".example6\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"svg\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"width\"</span><span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"height\"</span><span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                \n    <span class=\"token keyword\">var</span> y <span class=\"token operator\">=</span> d3<span class=\"token punctuation\">.</span>scale<span class=\"token punctuation\">.</span><span class=\"token function\">linear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>d3<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>height<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                \n    <span class=\"token comment\">// bind data to rect</span>\n    svg<span class=\"token punctuation\">.</span><span class=\"token function\">selectAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rect\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">enter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rect\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token function-variable function\">x</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> i <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>width <span class=\"token operator\">/</span> data<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">y</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> height <span class=\"token operator\">-</span> <span class=\"token function\">y</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        width<span class=\"token operator\">:</span> width <span class=\"token operator\">/</span> data<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">height</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> <span class=\"token function\">y</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fill\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"steelblue\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></code></pre></div>\n<p>Result:</p>\n<div class=\"example6\">\n</div>\n<p>As you can see the maximum value of the array of 100 takes up all the space of the height of the canvas of 250. This is the power of the scale function in D3.js. </p>\n<h3>Adding Axis</h3>\n<p>This bar graph is almost done, we have numbers without any description of what the number represents. If we add a x-axis to our graph, we can analyze the bar graph. Let's say we want to create a bar graph for the number of customers coming into our store for this week. Now our data need to include two information, the day of the week and the number of customers. We can use an array of objects as our data which allows us to store more information in one entry. Let's now create this graph with x-axis and y-axis.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"example\"</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"/relative/path/goes/here/d3.min.js\"</span> charset<span class=\"token operator\">=</span><span class=\"token string\">\"utf-8\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n  <span class=\"token keyword\">var</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span><span class=\"token string\">\"weekday\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Mon\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"customers\"</span><span class=\"token operator\">:</span><span class=\"token number\">156</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span><span class=\"token string\">\"weekday\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Tue\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"customers\"</span><span class=\"token operator\">:</span><span class=\"token number\">125</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span><span class=\"token string\">\"weekday\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Wed\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"customers\"</span><span class=\"token operator\">:</span><span class=\"token number\">186</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span><span class=\"token string\">\"weekday\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Thu\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"customers\"</span><span class=\"token operator\">:</span><span class=\"token number\">148</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span><span class=\"token string\">\"weekday\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Fri\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"customers\"</span><span class=\"token operator\">:</span><span class=\"token number\">99</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span><span class=\"token string\">\"weekday\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Sat\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"customers\"</span><span class=\"token operator\">:</span><span class=\"token number\">85</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span><span class=\"token string\">\"weekday\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"Sun\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"customers\"</span><span class=\"token operator\">:</span><span class=\"token number\">53</span><span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> margin <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>top<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> right<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> bottom<span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> left<span class=\"token operator\">:</span> <span class=\"token number\">40</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> width <span class=\"token operator\">=</span> <span class=\"token number\">250</span> <span class=\"token operator\">-</span> margin<span class=\"token punctuation\">.</span>left <span class=\"token operator\">-</span> margin<span class=\"token punctuation\">.</span>right<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> height <span class=\"token operator\">=</span> <span class=\"token number\">300</span> <span class=\"token operator\">-</span> margin<span class=\"token punctuation\">.</span>top <span class=\"token operator\">-</span> margin<span class=\"token punctuation\">.</span>bottom<span class=\"token punctuation\">;</span>\n              \n  <span class=\"token comment\">// y scale for the bar graph</span>\n  <span class=\"token keyword\">var</span> yScale <span class=\"token operator\">=</span> d3<span class=\"token punctuation\">.</span>scale<span class=\"token punctuation\">.</span><span class=\"token function\">linear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>d3<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> data<span class=\"token punctuation\">.</span>customers<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>height<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n              \n  <span class=\"token comment\">// y scale for the y-axis</span>\n  <span class=\"token keyword\">var</span> y <span class=\"token operator\">=</span> d3<span class=\"token punctuation\">.</span>scale<span class=\"token punctuation\">.</span><span class=\"token function\">linear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>d3<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> data<span class=\"token punctuation\">.</span>customers<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>height<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token comment\">// x scale for the x-axis</span>\n  <span class=\"token keyword\">var</span> xScale <span class=\"token operator\">=</span> d3<span class=\"token punctuation\">.</span>scale<span class=\"token punctuation\">.</span><span class=\"token function\">ordinal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> d<span class=\"token punctuation\">.</span>weekday <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">rangeBands</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token comment\">// create x-axis</span>\n  <span class=\"token keyword\">var</span> xAxis <span class=\"token operator\">=</span> d3<span class=\"token punctuation\">.</span>svg<span class=\"token punctuation\">.</span><span class=\"token function\">axis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">scale</span><span class=\"token punctuation\">(</span>xScale<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">orient</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"bottom\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token comment\">// create y-axis</span>\n  <span class=\"token keyword\">var</span> yAxis <span class=\"token operator\">=</span> d3<span class=\"token punctuation\">.</span>svg<span class=\"token punctuation\">.</span><span class=\"token function\">axis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">scale</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">orient</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"left\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n \n  <span class=\"token comment\">// reference variable for svg element</span>\n  <span class=\"token keyword\">var</span> svg <span class=\"token operator\">=</span> d3<span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".example\"</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"svg\"</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"width\"</span><span class=\"token punctuation\">,</span> width <span class=\"token operator\">+</span> margin<span class=\"token punctuation\">.</span>left <span class=\"token operator\">+</span> margin<span class=\"token punctuation\">.</span>right<span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"height\"</span><span class=\"token punctuation\">,</span> height <span class=\"token operator\">+</span> margin<span class=\"token punctuation\">.</span>bottom <span class=\"token operator\">+</span> margin<span class=\"token punctuation\">.</span>top<span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"display\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"block\"</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"margin\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0 auto\"</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"g\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"transform\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"translate(\"</span> <span class=\"token operator\">+</span> margin<span class=\"token punctuation\">.</span>left <span class=\"token operator\">+</span> <span class=\"token string\">\",\"</span> <span class=\"token operator\">+</span> margin<span class=\"token punctuation\">.</span>top <span class=\"token operator\">+</span> <span class=\"token string\">\")\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token comment\">// add x-axis</span>\n  svg<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"g\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"x-axis\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"transform\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"translate(0,\"</span> <span class=\"token operator\">+</span> height <span class=\"token operator\">+</span> <span class=\"token string\">\")\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>xAxis<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n  <span class=\"token comment\">// add y-axis</span>\n  svg<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"g\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"class\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"y-axis\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>yAxis<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n  <span class=\"token comment\">// bind data to rect</span>\n  svg<span class=\"token punctuation\">.</span><span class=\"token function\">selectAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rect\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">enter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rect\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token function-variable function\">x</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> i <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>width <span class=\"token operator\">/</span> data<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function-variable function\">y</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> height <span class=\"token operator\">-</span> <span class=\"token function\">yScale</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>customers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      width<span class=\"token operator\">:</span> width <span class=\"token operator\">/</span> data<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function-variable function\">height</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> <span class=\"token function\">yScale</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>customers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fill\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"steelblue\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// bind data to text</span>\n  svg<span class=\"token punctuation\">.</span><span class=\"token function\">selectAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">enter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> d<span class=\"token punctuation\">.</span>customers<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"text-anchor\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"middle\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function-variable function\">x</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> i <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>width <span class=\"token operator\">/</span> data<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token punctuation\">(</span>width <span class=\"token operator\">/</span> data<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function-variable function\">y</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> height <span class=\"token operator\">-</span> <span class=\"token function\">yScale</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>customers<span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">14</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"font-family\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sans-serif\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"font-size\"</span><span class=\"token operator\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"fill\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#ffffff\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></code></pre></div>\n<p>Result:</p>\n<div class=\"example7\">\n</div>\n<p>Now that looks like a bar graph that you see in presentations! All you need to know for adding a axis to your data visualization is the scale and the orientation. D3.js needs to know how to create the axis based on a scale and where to put it in the svg canvas.</p>\n<h3>Conculsion</h3>\n<p>You can build any data visualization with the help of D3.js! D3.js makes creating graphs and charts simple using JavaScript and the benefit of using JavaScript is it allows you to create dynamic data visualization. There's many tutorials for learning how to use D3.js <a href=\"https://github.com/mbostock/d3/wiki/Tutorials\" target=\"_blank\">here</a>. The best resource is to look through the API <a href=\"https://github.com/mbostock/d3/wiki/API-Reference\" target=\"_blank\">here</a>, this API contains all the methods that you can use with D3.js. Here is a great tutorial for understanding the update pattern of D3.js <a href=\"http://bl.ocks.org/mbostock/3808218\" target=\"_blank\">here</a></p>\n<p>Result:</p>\n<div class=\"example8\">\n</div>\n<script src=\"https://d3js.org/d3.v5.min.js\" charset=\"utf-8\"></script>\n<script>\n  console.log(d3)\n  // example 1\n  d3.select(\".example1\").append(\"svg\")\n    .style(\"display\", \"block\")\n    .style(\"margin\", \"0 auto\")\n    .attr(\"width\", 50)\n    .attr(\"height\", 100)\n    .append(\"rect\")\n      .attr(\"width\", 50)\n      .attr(\"height\", 100)\n      .style(\"fill\", \"steelblue\");\n  \n  // example 2\n  var data = [5, 10, 15, 20, 25],\n      width = 200,\n      height = 150;\n  d3.select(\".example2\")\n    .append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .style(\"display\", \"block\")\n      .style(\"margin\", \"0 auto\")\n    .selectAll(\"rect\")\n      .data(data)\n      .enter()\n      .append(\"rect\")\n        .attr(\"x\", function(d, i) { return i * (width / data.length); })\n        .attr(\"y\", function(d) { return height - (d*4); })\n        .attr(\"width\", width / data.length - 1)\n        .attr(\"height\", function(d) { return d*4 })\n        .style(\"fill\", \"steelblue\");\n  \n  // example 4    \n  data = [23, 30, 11, 4, 8, 15];\n  d3.select(\".example3\")\n    .append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .style(\"display\", \"block\")\n      .style(\"margin\", \"0 auto\")\n    .selectAll(\"rect\")\n      .data(data)\n      .enter()\n      .append(\"rect\")\n        .attr(\"x\", function(d, i) { return i * (width / data.length); })\n        .attr(\"y\", function(d) { return height - (d*4); })\n        .attr(\"width\", width / data.length - 1)\n        .attr(\"height\", function(d) { return d*4 })\n        .style(\"fill\", \"steelblue\");\n        \n  // example 4\n  var svg1 = d3.select(\".example4\")\n            .append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n            .style(\"display\", \"block\")\n            .style(\"margin\", \"0 auto\");\n<p>  // bind data to rect\nsvg1.selectAll(\"rect\")\n.data(data)\n.enter()\n.append(\"rect\")\n.attr({\nx: function(d, i) {return i * (width / data.length);},\ny: function(d) {return height - (d<em>4);},\nwidth: width / data.length - 1,\nheight: function(d) {return d</em>4;}\n})\n.style(\"fill\", \"steelblue\");</p>\n<p>  // bind data to text\nsvg1.selectAll(\"text\")\n.data(data)\n.enter()\n.append(\"text\")\n.text(function (d) { return d; })\n.attr({\n\"text-anchor\": \"middle\",\nx: function(d, i) {return i * (width / data.length)+(width / data.length - 1) / 2;},\ny: function(d) { return height - (d*4)+14; },\n\"font-family\": \"sans-serif\",\n\"font-size\": 12,\n\"fill\": \"#ffffff\"\n});</p>\n<p>  // example 5\nvar svg2 = d3.select(\".example5\")\n.append(\"svg\")\n.attr(\"width\", width)\n.attr(\"height\", height)\n.style(\"display\", \"block\")\n.style(\"margin\", \"0 auto\");</p>\n<p>  var y = d3.scale.linear()\n.domain([d3.max(data),0])\n.range([height,0]);</p>\n<p>  // bind data to rect\nsvg2.selectAll(\"rect\")\n.data(data)\n.enter()\n.append(\"rect\")\n.attr({\nx: function(d, i) {return i * (width / data.length);},\ny: function(d) {return height - y(d);},\nwidth: width / data.length - 1,\nheight: function(d) {return y(d);}\n})\n.style(\"fill\", \"steelblue\");</p>\n<p>  // bind data to text\nsvg2.selectAll(\"text\")\n.data(data)\n.enter()\n.append(\"text\")\n.text(function (d) { return d; })\n.attr({\n\"text-anchor\": \"middle\",\nx: function(d, i) {return i * (width / data.length)+(width / data.length - 1) / 2;},\ny: function(d) { return height - y(d)+14; },\n\"font-family\": \"sans-serif\",\n\"font-size\": 12,\n\"fill\": \"#ffffff\"\n});</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// example 6\ndata = [10,38,34,56,79,100,57,88];\nwidth = 200,\nheight = 250;\nvar svg3 = d3.select(&quot;.example6&quot;)\n            .append(&quot;svg&quot;)\n            .attr(&quot;width&quot;, width)\n            .attr(&quot;height&quot;, height)\n            .style(&quot;display&quot;, &quot;block&quot;)\n            .style(&quot;margin&quot;, &quot;0 auto&quot;);\n            \nvar y2 = d3.scale.linear()\n            .domain([d3.max(data),0])\n            .range([height,0]);\n            \n// bind data to rect\nsvg3.selectAll(&quot;rect&quot;)\n  .data(data)\n  .enter()\n  .append(&quot;rect&quot;)\n  .attr({\n    x: function(d, i) {return i * (width / data.length);},\n    y: function(d) {return height - y2(d);},\n    width: width / data.length - 1,\n    height: function(d) {return y2(d);}\n  })\n  .style(&quot;fill&quot;, &quot;steelblue&quot;);\n\n// bind data to text\nsvg3.selectAll(&quot;text&quot;)\n  .data(data)\n  .enter()\n  .append(&quot;text&quot;)\n  .text(function (d) { return d; })\n  .attr({\n    &quot;text-anchor&quot;: &quot;middle&quot;,\n    x: function(d, i) {return i * (width / data.length)+(width / data.length - 1) / 2;},\n    y: function(d) { return height - y2(d)+14; },\n    &quot;font-family&quot;: &quot;sans-serif&quot;,\n    &quot;font-size&quot;: 12,\n    &quot;fill&quot;: &quot;#ffffff&quot;\n  });\n  </code></pre></div>\n<p>  // example 7\ndata = [\n{\"weekday\":\"Mon\", \"customers\":156},\n{\"weekday\":\"Tue\", \"customers\":125},\n{\"weekday\":\"Wed\", \"customers\":186},\n{\"weekday\":\"Thu\", \"customers\":148},\n{\"weekday\":\"Fri\", \"customers\":99},\n{\"weekday\":\"Sat\", \"customers\":85},\n{\"weekday\":\"Sun\", \"customers\":53}\n];\nvar margin = {top: 0, right: 0, bottom: 30, left: 40};\nwidth = 250 - margin.left - margin.right;\nheight = 300 - margin.top - margin.bottom;</p>\n<p>  var yScale = d3.scale.linear()\n.domain([d3.max(data, function(data) { return data.customers; }),0])\n.range([height,0]);</p>\n<p>  y = d3.scale.linear()\n.domain([d3.max(data, function(data) { return data.customers; }),0])\n.range([0,height]);</p>\n<p>  var xScale = d3.scale.ordinal()\n.domain(data.map(function(d) { return d.weekday }))\n.rangeBands([0, width]);</p>\n<p>  var xAxis = d3.svg.axis()\n.scale(xScale)\n.orient(\"bottom\");</p>\n<p>  var yAxis = d3.svg.axis()\n.scale(y)\n.orient(\"left\");</p>\n<p>  var svg4 = d3.select(\".example7\")\n.append(\"svg\")\n.attr(\"width\", width + margin.left + margin.right)\n.attr(\"height\", height + margin.bottom + margin.top)\n.style(\"display\", \"block\")\n.style(\"margin\", \"0 auto\")\n.append(\"g\")\n.attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");</p>\n<p>  // add x-axis\nsvg4.append(\"g\")\n.attr(\"class\", \"x-axis\")\n.attr(\"transform\", \"translate(0,\" + height + \")\")\n.call(xAxis);</p>\n<p>  // add y-axis\nsvg4.append(\"g\")\n.attr(\"class\", \"y-axis\")\n.call(yAxis);</p>\n<p>  //bind data to rect\nsvg4.selectAll(\"rect\")\n.data(data)\n.enter()\n.append(\"rect\")\n.attr({\nx: function(d, i) {return i * (width / data.length);},\ny: function(d) {return height - yScale(d.customers);},\nwidth: width / data.length - 1,\nheight: function(d) {return yScale(d.customers);}\n})\n.style(\"fill\", \"steelblue\");</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// example 8\nvar alphabet = &quot;abcdefghijklmnopqrstuvwxyz&quot;.split(&quot;&quot;);\nwidth = 300;\nheight = 150;\n\nvar svg5 = d3.select(&quot;.example8&quot;).append(&quot;svg&quot;)\n        .attr(&quot;width&quot;,width)\n        .attr(&quot;height&quot;,height)\n        .append(&quot;g&quot;)\n          .attr(&quot;transform&quot;, &quot;translate(32,&quot; + (height/2) + &quot;)&quot;);\n\nfunction update(data) {\n\n  // DATA JOIN\n  // Join new data with old elements, if any.\n  var text = svg5.selectAll(&quot;text&quot;)\n      .data(data, function(d) { return d; })\n      .style(&quot;font&quot;, &quot;bold 10px monospace&quot;);\n\n  // UPDATE\n  // Update old elements as needed.\n  text.attr(&quot;class&quot;, &quot;update&quot;)\n    .style(&quot;fill&quot;,&quot;#333&quot;)\n    .style(&quot;font&quot;, &quot;bold 20px monospace&quot;)\n    .transition()\n      .duration(750)\n      .attr(&quot;x&quot;, function(d, i) { return i * 10; });\n\n  // ENTER\n  // Create new elements as needed.\n  text.enter().append(&quot;text&quot;)\n      .attr(&quot;class&quot;, &quot;enter&quot;)\n      .attr(&quot;dy&quot;, &quot;.35em&quot;)\n      .attr(&quot;y&quot;, -60)\n      .attr(&quot;x&quot;, function(d, i) { return i * 10; })\n      .style(&quot;fill-opacity&quot;, 1e-6)\n      .style(&quot;fill&quot;, &quot;green&quot;)\n      .style(&quot;font&quot;, &quot;bold 20px monospace&quot;)\n      .text(function(d) { return d; })\n    .transition()\n      .duration(750)\n      .attr(&quot;y&quot;, 0)\n      .style(&quot;fill-opacity&quot;, 1);\n\n  // EXIT\n  // Remove old elements as needed.\n  text.exit()\n      .attr(&quot;class&quot;, &quot;exit&quot;)\n    .transition()\n      .duration(750)\n      .attr(&quot;y&quot;, 60)\n      .style(&quot;fill-opacity&quot;, 1e-6)\n      .remove();\n}\n\n// The initial display.\nupdate(alphabet);\n\n// Grab a random sample of letters from the alphabet, in alphabetical order.\nsetInterval(function() {\n  update(d3.shuffle(alphabet)\n      .slice(0, Math.floor(Math.random() * 26))\n      .sort());\n}, 1500);</code></pre></div>\n</script>","frontmatter":{"description":"Learning about d3.js.","title":"Learning D3.js"}}},"pageContext":{"slug":"/2016/2016-03-04/"}}}